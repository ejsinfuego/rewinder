import{R as o,r as p}from"./app-C-Hlkg4h.js";import{a as T}from"./index-_-D2Ch9d.js";import{$ as m,a as C}from"./createLucideIcon-NAgh--qz.js";function N(e){const c=e+"CollectionProvider",[R,$]=T(c),[x,a]=R(c,{collectionRef:{current:null},itemMap:new Map}),M=s=>{const{scope:t,children:i}=s,r=o.useRef(null),n=o.useRef(new Map).current;return o.createElement(x,{scope:t,itemMap:n,collectionRef:r},i)},E=e+"CollectionSlot",I=o.forwardRef((s,t)=>{const{scope:i,children:r}=s,n=a(E,i),l=m(t,n.collectionRef);return o.createElement(C,{ref:l},r)}),b=e+"CollectionItemSlot",u="data-radix-collection-item",S=o.forwardRef((s,t)=>{const{scope:i,children:r,...n}=s,l=o.useRef(null),d=m(t,l),f=a(b,i);return o.useEffect(()=>(f.itemMap.set(l,{ref:l,...n}),()=>void f.itemMap.delete(l))),o.createElement(C,{[u]:"",ref:d},r)});function v(s){const t=a(e+"CollectionConsumer",s);return o.useCallback(()=>{const r=t.collectionRef.current;if(!r)return[];const n=Array.from(r.querySelectorAll(`[${u}]`));return Array.from(t.itemMap.values()).sort((f,A)=>n.indexOf(f.ref.current)-n.indexOf(A.ref.current))},[t.collectionRef,t.itemMap])}return[{Provider:M,Slot:I,ItemSlot:S},v,$]}function P(e){const c=p.useRef({value:e,previous:e});return p.useMemo(()=>(c.current.value!==e&&(c.current.previous=c.current.value,c.current.value=e),c.current.previous),[e])}export{N as $,P as a};
